<div class="container-max"><div class="row"><ul id="controlsList" class="controls-list list-inline"><li class="list-inline-item control-user"><div id="login-change"><!----> <div><a data-toggle="modal" href="#login"><i aria-hidden="true" class="fa fa-user"></i> <span class="hidden-xs-down">Anmelden</span></a> <span class="pipe"></span> <a data-toggle="modal" href="#registration"><i aria-hidden="true" class="fa fa-user-plus"></i> <span class="hidden-xs-down">Registrieren</span></a></div></div></li> <li class="list-inline-item dropdown control-languages"><a data-toggle="collapse" href="#countrySettings" aria-expanded="false" aria-controls="countrySettings" data-parent="#controlsList" class="collapsed"><i class="flag-icon flag-icon-de"></i></a></li> <li class="list-inline-item dropdown control-languages"><a data-toggle="collapse" href="#currencySelect" aria-expanded="false" aria-controls="currencySelect" data-parent="#controlsList" class="collapsed"><span>EUR</span></a></li> <li class="list-inline-item control-search"><a aria-label="toggle search" data-toggle="collapse" href="#searchBox" aria-expanded="false" aria-controls="searchBox" data-parent="#controlsList" class="anicon anicon-search-xcross collapsed"><span aria-hidden="true" class="anicon-search-item"></span></a></li> <li class="list-inline-item control-wish-list"><a href="/wish-list/" rel="nofollow"><span class="badge-right">0</span> <i aria-hidden="true" class="fa fa-heart-o"></i></a></li> <li class="list-inline-item control-basket"><a href="#" class="toggle-basket-preview"><i waiting-class="fa fa-refresh fa-spin" aria-hidden="true" class="fa fa-shopping-cart"></i> <span class="badge">0,00&nbsp;EUR</span></a></li></ul></div></div>
{% import "Ceres::PageDesign.Macros.LayoutContainer" as LayoutContainer %}

{{ component( "Ceres::Customer.Components.UserLoginHandler" ) }}
{{ component( "Ceres::PageDesign.Components.ShippingCountrySelect" ) }}
{{ component( "Ceres::PageDesign.Components.MobileNavigation" ) }}
{{ component( "Ceres::ItemList.Components.ItemSearch" ) }}
{{ component( "Ceres::WishList.Components.WishListCount" ) }}
{{ component( "Ceres::Basket.Components.BasketPreviewHover" ) }}

{% set lang = services.sessionStorage.getLang() %}
{% set enabledRoutes = config("IO.routing.enabled_routes") | split(', ') %}
{% set activeCurrencies = config("Ceres.currency.available_currencies") | split(', ') %}
{% set enableCurrencySelect = config("Ceres.currency.enable_selection") == "true" and activeCurrencies | length > 0 %}
{% set currencyFormat = config("Ceres.currency.format") %}
{% set currencyFormatSelect = config("Ceres.currency.format_selection") %}


{% set headerContainer = LayoutContainer.show("Ceres::Header") | trim %}
{% if headerContainer is empty %}
    {% include "Ceres::PageDesign.Partials.Header.DefaultHeader" %}
{% else %}
<header id="page-header" class="fixed-top">
    {{ headerContainer | raw }}
</header>
{% endif %}

{% set scriptId = uid() %}
<script id="{{ scriptId }}">
    var vueApp = document.getElementById("vue-app");
    var pageHeader = document.getElementById("page-header");

    if ( !!vueApp && !!pageHeader )
    {
        vueApp.style.marginTop = pageHeader.getBoundingClientRect().height + 'px';
    }

    var scriptElement = document.getElementById("{{ scriptId }}");
    scriptElement.parentElement.removeChild(scriptElement);
</script>

<div>
    {% if category.linklist == "Y" %}
        {% set initialCategory = { id: category.id } %}
    {% else %}
        {% set initialCategory = category %}
    {% endif %}
    <mobile-navigation
            :navigation-tree-data="{{ categories | json_encode }}"
            :initial-category="{{ initialCategory | json_encode }}"
            template="#vue-mobile-navigation">
    </mobile-navigation>
</div>
